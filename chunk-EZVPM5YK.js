import{a as U}from"./chunk-7KKA3D43.js";import{a as W,c as q,e as A,f as s}from"./chunk-RDKCA32H.js";import{a as H,b as J}from"./chunk-UTEFHTDG.js";import{a as N,e as V}from"./chunk-AEEIGACN.js";import"./chunk-3NQWQBWX.js";import{a as G}from"./chunk-2EOF2OZC.js";import{R as L,V as j,X as z}from"./chunk-CDQXF2FM.js";import{$a as y,Ba as v,Eb as S,Fa as h,Gb as b,Hb as x,Ib as e,Jb as o,Jc as I,Kb as m,Ob as w,Rb as C,Tb as E,bb as c,bc as i,cc as f,da as _,ec as T,fc as D,gc as k,jc as B,kc as F,ma as P,na as M,nb as d,sb as O,zb as p}from"./chunk-EERKQ2IA.js";var l=class r{product=v.required();static \u0275fac=function(t){return new(t||r)};static \u0275cmp=d({type:r,selectors:[["app-product-card"]],inputs:{product:[1,"product"]},decls:8,vars:6,consts:[[1,"product-card"],["mat-card-image","",3,"src","alt"],[1,"price"]],template:function(t,n){t&1&&(e(0,"mat-card",0),m(1,"img",1),e(2,"mat-card-content")(3,"h3"),i(4),o(),e(5,"p",2),i(6),B(7,"currency"),o()()()),t&2&&(c(),p("src",n.product().images[0].url,y)("alt",n.product().name),c(3),f(n.product().name),c(2),f(F(7,4,n.product().price)))},dependencies:[s,W,q,A,I],styles:[".product-card[_ngcontent-%COMP%]{height:100%}.product-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:200px;object-fit:cover}.product-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{padding:1rem}.product-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1.1rem;margin-bottom:.5rem}.product-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:700;color:#1976d2;margin:0}"]})};var X=(r,a)=>a.id;function Y(r,a){if(r&1&&m(0,"app-product-card",7),r&2){let t=a.$implicit;p("product",t)}}function Z(r,a){if(r&1){let t=w();e(0,"div",8)(1,"button",9),C("click",function(){P(t);let u=E();return M(u.loadMore())}),i(2," Show More "),o()()}}var K=class r{productService=_(G);sortOrder=h("none");displayedProducts=this.productService.displayedProducts;products=U(this.productService.getProducts(),{initialValue:null});canLoadMore=this.productService.canLoadMore;onSortChange(){this.productService.sortProducts(this.sortOrder())}loadMore(){this.productService.loadMoreProducts()}static \u0275fac=function(t){return new(t||r)};static \u0275cmp=d({type:r,selectors:[["app-products"]],decls:18,vars:2,consts:[[1,"products-container"],[1,"actions-bar"],[3,"valueChange","selectionChange","value"],["value","asc"],["value","desc"],["value","none"],[1,"products-grid"],[3,"product"],[1,"load-more"],["mat-raised-button","","color","primary",3,"click"]],template:function(t,n){t&1&&(e(0,"div",0)(1,"div",1)(2,"h2"),i(3,"Products / Books"),o(),e(4,"mat-form-field")(5,"mat-label"),i(6,"Sort by"),o(),e(7,"mat-select",2),k("valueChange",function(g){return D(n.sortOrder,g)||(n.sortOrder=g),g}),C("selectionChange",function(){return n.onSortChange()}),e(8,"mat-option",3),i(9,"Price Ascending"),o(),e(10,"mat-option",4),i(11,"Price Descending"),o(),e(12,"mat-option",5),i(13,"None"),o()()()(),e(14,"div",6),b(15,Y,1,1,"app-product-card",7,X),o(),O(17,Z,3,0,"div",8),o()),t&2&&(c(7),T("value",n.sortOrder),c(8),x(n.displayedProducts()),c(2),S(n.canLoadMore()?17:-1))},dependencies:[s,z,j,J,V,N,H,L,l],styles:[".products-container[_ngcontent-%COMP%]{padding:2rem}.products-container[_ngcontent-%COMP%]   .actions-bar[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:2rem}@media (max-width: 768px){.products-container[_ngcontent-%COMP%]   .actions-bar[_ngcontent-%COMP%]{flex-direction:column;gap:1rem}}.products-container[_ngcontent-%COMP%]   .products-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(250px,1fr));gap:2rem}.products-container[_ngcontent-%COMP%]   .load-more[_ngcontent-%COMP%]{text-align:center;margin-top:2rem}"]})};export{K as ProductsComponent};
