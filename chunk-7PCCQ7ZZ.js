import{a as P}from"./chunk-YPUJRQCJ.js";import{a as A,b as R,c as V,d as j,f as k}from"./chunk-5H6RIOTC.js";import{a as D,b as I}from"./chunk-FBHDKKVC.js";import{a as N,b as q,e as G,f as T}from"./chunk-ESIITTPS.js";import{a as F,b as u,d as y,e as S,h as O,i as x,j as w,k as E,m as L}from"./chunk-UXHXBERN.js";import"./chunk-HU7WFQWJ.js";import{a as b,c as h}from"./chunk-YD56RY7D.js";import"./chunk-OQWJUSEU.js";import{$ as B,Z as U}from"./chunk-F4LPE2TG.js";import{$a as l,$b as i,Cb as c,Fc as v,Gb as e,Hb as t,Ib as C,Pb as _,da as m,lb as M,qb as g,xb as f}from"./chunk-QCNKWFM4.js";function z(n,o){n&1&&(e(0,"mat-error"),i(1," Email is required "),t())}function J(n,o){n&1&&(e(0,"mat-error"),i(1," Please enter a valid email "),t())}function K(n,o){n&1&&(e(0,"mat-error"),i(1," Password is required "),t())}var H=class n{fb=m(E);authService=m(P);router=m(h);route=m(b);redirectUrl=null;loginForm;constructor(){this.loginForm=this.fb.group({email:["",[u.required,u.email]],password:["",u.required]}),this.route.queryParams.subscribe(o=>{this.redirectUrl=o.redirectUrl||"/dashboard"})}onSubmit(){if(this.loginForm.valid){let{email:o,password:a}=this.loginForm.value;this.authService.login(o,a).subscribe({next:()=>this.router.navigateByUrl(this.redirectUrl),error:r=>console.error("Login failed:",r)})}}static \u0275fac=function(a){return new(a||n)};static \u0275cmp=M({type:n,selectors:[["app-login"]],decls:20,vars:5,consts:[[1,"login-container"],[3,"ngSubmit","formGroup"],["appearance","outline"],["matInput","","formControlName","email","type","email"],["matInput","","formControlName","password","type","password"],["mat-raised-button","","color","primary","type","submit",3,"disabled"]],template:function(a,r){if(a&1&&(e(0,"div",0)(1,"mat-card")(2,"mat-card-header")(3,"mat-card-title"),i(4,"Login"),t()(),e(5,"mat-card-content")(6,"form",1),_("ngSubmit",function(){return r.onSubmit()}),e(7,"mat-form-field",2)(8,"mat-label"),i(9,"Email"),t(),C(10,"input",3),g(11,z,2,0,"mat-error")(12,J,2,0,"mat-error"),t(),e(13,"mat-form-field",2)(14,"mat-label"),i(15,"Password"),t(),C(16,"input",4),g(17,K,2,0,"mat-error"),t(),e(18,"button",5),i(19," Login "),t()()()()()),a&2){let d,s,p;l(6),f("formGroup",r.loginForm),l(5),c(!((d=r.loginForm.get("email"))==null||d.errors==null)&&d.errors.required?11:-1),l(),c(!((s=r.loginForm.get("email"))==null||s.errors==null)&&s.errors.email?12:-1),l(5),c(!((p=r.loginForm.get("password"))==null||p.errors==null)&&p.errors.required?17:-1),l(),f("disabled",r.loginForm.invalid)}},dependencies:[v,L,O,F,y,S,x,w,T,G,N,q,I,D,B,U,k,A,V,j,R],styles:[".login-container[_ngcontent-%COMP%]{height:100vh;display:flex;justify-content:center;align-items:center;background-color:#f5f5f5}.login-container[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]{width:100%;max-width:400px;padding:2rem}.login-container[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{margin-bottom:15px}.login-container[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.login-container[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%}.login-container[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}"]})};export{H as LoginComponent};
