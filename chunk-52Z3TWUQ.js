import{a as d}from"./chunk-F4LPE2TG.js";import{Da as e,W as i,Z as c,da as p,oc as a}from"./chunk-QCNKWFM4.js";var n=class o{API_URL="https://fakerapi.it/api/v2/products";ITEMS_PER_PAGE=10;http=p(d);allProducts=e([]);currentPage=e(1);sortType=e("none");products=a(()=>{let t=[...this.allProducts()];switch(this.sortType()){case"asc":t.sort((r,s)=>r.price-s.price);break;case"desc":t.sort((r,s)=>s.price-r.price);break}return t});displayedProducts=a(()=>this.products().slice(0,this.currentPage()*this.ITEMS_PER_PAGE));getProducts(){return this.http.get(`${this.API_URL}?_quantity=50`).pipe(i(t=>this.allProducts.set(t.data)))}sortProducts(t){this.sortType.set(t)}loadMoreProducts(){this.canLoadMore()&&this.currentPage.update(t=>t+1)}canLoadMore(){return this.displayedProducts().length<this.allProducts().length}static \u0275fac=function(r){return new(r||o)};static \u0275prov=c({token:o,factory:o.\u0275fac,providedIn:"root"})};export{n as a};
